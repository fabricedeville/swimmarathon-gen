<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Swim Marathon - Logo Editor</title>
    <style>
      :root {
        --size: 420px;
        --bg: #014693;
        --fg: #f8cd02;
        --strokeW: 0px;
        --stroke: #000000;
      }

      body {
        margin: 0;
        display: flex;
        min-height: 100vh;
        font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
        color: #303030;
        background: #f0f2f5;
      }

      .controls {
        display: flex;
        flex-direction: column;
        width: 18rem;
        gap: 1rem;
        padding: 1rem;
        background-color: #01478d;
        color: white;
        box-sizing: border-box;
      }

      .control {
        display: grid;
        gap: 6px;
        font-size: 14px;
      }

      .actions {
        display: flex;
        gap: 10px;
      }

      .btn {
        border: none;
        border-radius: 6px;
        padding: 0.75rem 0.9rem;
        font-weight: 700;
        font-size: 14px;
        cursor: pointer;
        transition: transform 120ms ease, filter 120ms ease;
      }

      .btn.primary {
        background: #f8cd02;
        color: #01478d;
      }

      .btn.secondary {
        background: #0f3770;
        color: #f8cd02;
        border: 1px solid #f8cd02;
      }

      .btn:hover {
        transform: translateY(-1px);
        filter: brightness(1.03);
      }

      .btn:active {
        transform: translateY(0);
      }

      .presets {
        background: #0c58a5;
        border-radius: 10px;
        padding: 0.75rem;
        display: grid;
        gap: 0.6rem;
      }

      .preset-title {
        font-weight: 700;
        color: #f8cd02;
        letter-spacing: 0.02em;
      }

      .preset-list {
        display: grid;
        gap: 0.5rem;
      }

      .preset {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 0.5rem;
        width: 100%;
        padding: 0.65rem 0.75rem;
        border-radius: 8px;
        background: #0a4281;
        color: white;
        border: 1px solid #0d58ac;
        cursor: pointer;
      }

      .preset:hover {
        background: #0f4f97;
        border-color: #f8cd02;
      }

      .preset-info {
        display: grid;
        gap: 4px;
        text-align: left;
      }

      .preset-size {
        font-weight: 700;
      }

      .preset-colors {
        font-size: 12px;
        opacity: 0.9;
      }

      .swatches {
        display: flex;
        gap: 6px;
      }

      .swatch {
        width: 20px;
        height: 20px;
        border-radius: 4px;
        border: 1px solid #ffffff55;
        box-shadow: inset 0 0 0 1px #00000022;
      }

      .preset-empty {
        color: #d6e4ff;
        opacity: 0.7;
        font-size: 13px;
      }
      .control label {
        opacity: 0.9;
      }

      .control .row {
        display: flex;
        gap: 10px;
        align-items: center;
      }

      input[type="range"] {
        width: 160px;
        accent-color: #ddd;
      }

      input[type="color"] {
        width: 10rem;
        height: 3rem;
        padding: 0;
        border: 1px solid #333;
        background: transparent;
        border-radius: 6px;
        cursor: pointer;
      }

      .value {
        font-variant-numeric: tabular-nums;
        opacity: 0.9;
        min-width: 70px;
      }

      .title {
        justify-self: center;
        color: #f8cd02;
        font-size: 2rem;
        font-weight: 700;
      }

      .subtitle {
        justify-self: center;
        color: #f0f0f0;
        font-size: 1.4rem;
        font-weight: 500;
      }

      .stage {
        display: grid;
        place-items: center;
        padding: 18px;
        width: 100%;
      }

      .frame {
        width: var(--size);
        height: var(--size);
        display: grid;
        place-items: center;
        border: 1px solid black;
      }

      /* The svg itself fills the frame */
      .frame svg {
        width: 100%;
        height: 100%;
        display: block;
      }

      /* Live color + stroke control */
      .frame svg .bgRect {
        fill: var(--bg) !important;
        stroke: var(--stroke) !important;
        stroke-width: var(--strokeW) !important;
      }

      .frame svg .fg {
        fill: var(--fg) !important;
        stroke: var(--stroke) !important;
        stroke-width: var(--strokeW) !important;
      }

      .frame svg [stroke] {
        stroke: var(--stroke) !important;
        stroke-width: var(--strokeW) !important;
      }

      .hint {
        opacity: 0.75;
        font-size: 12px;
        padding: 0 16px 10px;
        background: #1a1a1a;
        border-bottom: 1px solid #2a2a2a;
      }

      @media (max-width: 700px) {
        .title {
          font-size: 1.6rem;
        }

        .subtitle {
          font-size: 1rem;
        }

        .controls {
          width: 50vw;
          gap: 0.75rem;
          padding: 0.75rem;
          font-size: 13px;
        }

        .control {
          font-size: 13px;
        }

        .title {
          font-size: 1.6rem;
        }

        .subtitle {
          font-size: 1.1rem;
        }

        input[type="range"] {
          width: 100%;
        }

        input[type="color"] {
          width: 8rem;
          height: 2.4rem;
        }

        .btn {
          padding: 0.65rem 0.8rem;
          font-size: 13px;
        }

        .preset {
          padding: 0.55rem 0.65rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="controls">
      <div>
        <div class="title">Swim Marathon</div>
        <div class="subtitle">Logo Editor</div>
      </div>
      <div class="control">
        <label for="size">Size (square)</label>
        <div class="row">
          <input id="size" type="range" min="64" max="900" value="420" />
          <span class="value" id="sizeVal">420px</span>
        </div>
      </div>

      <div class="control">
        <label for="bg">Background color</label>
        <div class="row">
          <input id="bg" type="color" value="#014693" />
          <span class="value" id="bgVal">#014693</span>
        </div>
      </div>

      <div class="control">
        <label for="fg">Foreground color</label>
        <div class="row">
          <input id="fg" type="color" value="#f8cd02" />
          <span class="value" id="fgVal">#f8cd02</span>
        </div>
      </div>

      <!-- <div class="control">
        <label for="strokeW">Stroke width</label>
        <div class="row">
          <input id="strokeW" type="range" min="0" max="5" step="0.1" value="0" />
          <span class="value" id="strokeVal">1.0px</span>
        </div>
      </div>

      <div class="control">
        <label for="strokeC">Stroke color</label>
        <div class="row">
          <input id="strokeC" type="color" value="#000000" />
          <span class="value" id="strokeCVal">#000000</span>
        </div>
      </div> -->

      <div class="actions">
        <button id="addPreset" class="btn primary" type="button">Add preset</button>
        <button id="exportBtn" class="btn secondary" type="button">Export...</button>
      </div>

      <div class="presets">
        <div class="preset-title">Presets</div>
        <div id="presetList" class="preset-list preset-empty">No presets yet. Save one with “Add preset”.</div>
      </div>
    </div>

    <main class="stage">
      <div class="frame" id="frame">
        <!-- Your SVG (embedded inline so we can tweak it with CSS variables) -->
        <svg
          width="100%"
          height="100%"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          xml:space="preserve"
          xmlns:serif="http://www.serif.com/"
          style="
            fill-rule: evenodd;
            clip-rule: evenodd;
            stroke-linecap: round;
            stroke-linejoin: round;
            stroke-miterlimit: 1.5;
          "
        >
          <g id="Layer2">
            <rect
              x="0"
              y="0"
              width="1024"
              height="1024"
              class="bgRect"
              style="fill: rgb(1, 70, 147); stroke: black; stroke-width: 1px"
            />
          </g>
          <g id="Circle" transform="matrix(1,0,0,1,3.99335,1.42812)">
            <path
              class="fg"
              d="M507.017,246.657C641.088,246.657 749.937,355.506 749.937,489.577C749.937,623.648 641.088,732.496 507.017,732.496C372.946,732.496 264.097,623.648 264.097,489.577C264.097,355.506 372.946,246.657 507.017,246.657ZM507.017,265.487C383.338,265.487 282.927,365.898 282.927,489.577C282.927,613.255 383.338,713.667 507.017,713.667C630.696,713.667 731.107,613.255 731.107,489.577C731.107,365.898 630.696,265.487 507.017,265.487Z"
              style="fill: rgb(248, 205, 2); stroke: black; stroke-width: 1px"
            />
          </g>
          <g id="Swimmer" transform="matrix(1,0,0,1,0.639995,-0.255984)">
            <path
              class="fg"
              d="M522.508,438.034L492.579,393.893C492.579,393.893 409.456,425.556 386.072,434.188C368.38,435.189 361.372,414.425 369.52,404.928C392.384,391.855 471.61,352.185 489.979,342.669C507.793,340.943 512.993,345.688 518.401,352.649C540.968,381.694 652.089,539.242 649.246,539.859C621.817,545.814 598.304,525.742 566.147,523.975C538.489,522.454 521.964,545.063 486.226,541.865C437.351,537.493 449.363,524.036 391.517,522.689C391.036,522.678 522.508,438.034 522.508,438.034Z"
              style="fill: rgb(248, 205, 2)"
            />
            <clipPath id="_clip1">
              <path
                class="fg"
                d="M522.508,438.034L492.579,393.893C492.579,393.893 409.456,425.556 386.072,434.188C368.38,435.189 361.372,414.425 369.52,404.928C392.384,391.855 471.61,352.185 489.979,342.669C507.793,340.943 512.993,345.688 518.401,352.649C540.968,381.694 652.089,539.242 649.246,539.859C621.817,545.814 598.304,525.742 566.147,523.975C538.489,522.454 521.964,545.063 486.226,541.865C437.351,537.493 449.363,524.036 391.517,522.689C391.036,522.678 522.508,438.034 522.508,438.034Z"
              />
            </clipPath>
            <g clip-path="url(#_clip1)">
              <g transform="matrix(1,0,0,1,-0.639995,0.255984)">
                <path
                  class="fg"
                  d="M319.581,531.041C321.007,528.415 328.288,541.536 361.881,543.587C376.263,544.465 386.857,535.463 405.877,536.17C437.429,537.343 447.747,556.453 487.568,558.464C514.551,559.827 534.052,535.79 568.295,536.584C599.545,537.308 598.717,552.927 637.001,553.48C659.988,553.812 701.53,531.154 701.53,531.154C701.53,531.154 705.25,564.624 669.134,577.396C617.447,595.674 608.911,562.826 568.85,566.505C528.462,570.215 519.684,585.196 489.719,586.401C473.068,587.071 442.216,565.693 420.299,566.078C398.621,566.459 373.825,580.044 357.349,575.044C335.479,568.407 319.084,556.67 319.581,531.041"
                  style="fill: rgb(248, 205, 2); stroke: black; stroke-width: 1px"
                />
              </g>
            </g>
            <path
              class="fg"
              d="M522.508,438.034L492.579,393.893C492.579,393.893 409.456,425.556 386.072,434.188C368.38,435.189 361.372,414.425 369.52,404.928C392.384,391.855 471.61,352.185 489.979,342.669C507.793,340.943 512.993,345.688 518.401,352.649C540.968,381.694 652.089,539.242 649.246,539.859C621.817,545.814 598.304,525.742 566.147,523.975C538.489,522.454 521.964,545.063 486.226,541.865C437.351,537.493 449.363,524.036 391.517,522.689C391.036,522.678 522.508,438.034 522.508,438.034Z"
              style="fill: none; stroke: black; stroke-width: 1px"
            />
            <g transform="matrix(1.84635,0,0,2.0875,-644.607,-516.353)">
              <ellipse
                class="fg"
                cx="691.09"
                cy="450.644"
                rx="23.217"
                ry="20.41"
                style="fill: rgb(248, 205, 2); stroke: black; stroke-width: 0.51px"
              />
            </g>
            <g id="Lower-Wave" serif:id="Lower Wave" transform="matrix(1,0,0,1,-0.639995,0.255984)">
              <path
                class="fg"
                d="M342.586,590.2C373.098,607.112 397.915,586.933 423.385,587.785C451.585,588.727 460.767,605.707 494.52,607.38C522.89,606.766 542.033,587.561 565.119,587.248C588.204,586.934 606.788,601.724 633.033,605.501C647.744,607.618 661.773,600.231 671.956,597.18C659.805,627.414 635.836,631.683 627.127,631.003C602.591,629.085 588.362,616.13 568.072,616.239C534.517,616.418 525.766,635.368 496.668,635.298C460.991,635.211 455.429,617.384 426.338,617.044C408.444,616.835 400.73,622.319 385.267,624.292C370.355,626.195 352.608,619.728 342.586,590.2Z"
                style="fill: rgb(248, 205, 2); stroke: black; stroke-width: 1px"
              />
            </g>
            <g id="Upper-Wave" serif:id="Upper Wave" transform="matrix(1,0,0,1,-0.639995,0.255984)">
              <path
                class="fg"
                d="M319.712,530.299C330.053,538.027 343.948,545.28 359.552,544.014C383.417,542.078 389.414,537.251 405.924,536.83C426.913,536.295 467.595,559.444 484.626,559.036C520.462,558.178 530.917,539.367 565.614,536.177C587.377,534.175 612.397,554.926 636.152,553.811C660.955,552.647 688.786,536.633 701.791,531.931C701.356,570.52 666.03,582.786 643.336,583.528C620.041,584.29 595.042,565.386 569.859,565.894C537.475,566.547 523.647,584.541 488.218,585.488C464.641,586.118 442.449,565.889 422.906,566.221C390.54,566.769 396.087,574.781 373.268,575.691C358.89,576.264 318.514,574.494 319.712,530.299Z"
                style="fill: rgb(248, 205, 2); stroke: black; stroke-width: 1px"
              />
            </g>
          </g>
          <g id="path1" transform="matrix(4.86868,0,0,4.81867,9.1689,-165.838)">
            <g id="layer1">
              <path
                class="fg"
                id="path11"
                serif:id="path1"
                d="M96.49,220.313C81.655,218.785 68.885,214.272 56.661,206.238C50.371,202.104 44.344,196.838 40.302,191.943C38.805,190.131 38.35,189.143 38.344,187.693C38.337,186.06 38.9,185.054 40.562,183.723C43.259,181.564 43.633,181.278 46.602,179.118C48.25,177.919 51.51,175.537 53.848,173.824C56.186,172.111 58.388,170.589 58.742,170.441C59.562,170.099 59.648,170.16 61.936,172.714C68.404,179.932 77.539,185.893 86.67,188.854C89.023,189.617 93.674,190.743 96.038,191.121C98.817,191.565 106.372,191.752 109.195,191.445C121.343,190.127 132.508,185.127 141.506,176.975C145.303,173.536 146.284,172.717 146.616,172.713C146.803,172.71 147.687,173.298 148.578,174.019C149.47,174.741 151.362,176.219 152.782,177.304C160.692,183.348 164.164,186.084 164.619,186.628C164.9,186.964 165.241,187.707 165.378,188.279C165.763,189.897 165.3,191.199 163.699,192.999C149.822,208.594 132.518,217.547 111.467,220.022C108.169,220.41 99.133,220.586 96.49,220.313ZM100.312,213.803C100.312,213.647 99.948,210.582 99.504,206.993C99.059,203.404 98.587,199.528 98.453,198.381L98.211,196.294L96.148,195.917C95.014,195.71 94.054,195.573 94.014,195.612C93.927,195.7 88.316,209.06 87.163,211.923C87.089,212.108 89.872,212.91 90.682,212.937C90.783,212.94 91.145,212.194 91.487,211.279C91.829,210.365 92.128,209.59 92.152,209.559C92.218,209.474 96.211,210.097 96.324,210.211C96.378,210.265 96.531,211.089 96.665,212.042L96.909,213.775L98.042,213.897C100.047,214.113 100.312,214.102 100.312,213.803L100.312,213.803ZM93.96,207.074C93.591,207.028 93.288,206.914 93.288,206.821C93.288,206.566 95.349,200.435 95.354,200.675C95.356,200.789 95.497,202.193 95.666,203.794C95.835,205.395 95.973,206.822 95.974,206.965C95.974,207.223 95.399,207.254 93.96,207.074ZM109.605,213.293C109.603,212.986 109.509,211.612 109.395,210.24C109.282,208.867 109.099,206.435 108.989,204.834C108.879,203.232 108.731,201.352 108.661,200.655L108.534,199.388L110.337,199.26C111.328,199.19 112.164,199.105 112.195,199.072C112.225,199.039 112.201,198.325 112.139,197.486L112.029,195.961L111.386,196.074C110.033,196.312 103.991,196.666 102.699,196.583L101.345,196.497L101.345,199.531L105.063,199.531L105.06,200.207C105.054,201.415 105.513,213.561 105.572,213.775C105.607,213.901 106.412,213.957 107.619,213.916L109.608,213.85L109.605,213.293ZM120.401,212.076C121.168,211.905 121.795,211.703 121.794,211.627C121.793,211.55 121.374,209.99 120.865,208.16C120.355,206.331 119.938,204.739 119.937,204.624C119.937,204.508 120.704,204.244 121.641,204.036C122.578,203.827 123.537,203.612 123.772,203.557C124.163,203.464 124.278,203.75 125.188,207.072L126.178,210.688L127.89,210.163C128.831,209.874 129.569,209.54 129.529,209.419C129.49,209.299 128.894,207.083 128.205,204.495C127.018,200.029 125.001,193.124 124.837,192.958C124.795,192.916 124.044,193.124 123.168,193.42C121.721,193.91 121.588,194.001 121.722,194.406C122.499,196.769 123.365,200.407 123.166,200.477C122.946,200.555 119.097,201.403 118.965,201.403C118.931,201.403 118.905,201.286 118.907,201.143C118.909,200.952 117.48,195.281 117.365,195.023C117.356,195.002 116.671,195.134 115.844,195.316C114.399,195.636 114.345,195.669 114.447,196.186C114.505,196.482 115.211,199.901 116.015,203.783C116.819,207.665 117.532,211.249 117.6,211.746C117.739,212.77 117.439,212.734 120.401,212.076ZM84.218,208.046C84.094,206.332 83.997,204.533 84.003,204.05C84.013,203.188 84.037,203.159 85.191,202.605C86.922,201.774 87.895,200.112 87.904,197.972C87.912,196.057 86.898,194.61 84.936,193.737C83.626,193.154 79.657,191.764 79.575,191.86C79.39,192.074 73.84,208.315 73.929,208.38C74.168,208.552 77.211,209.412 77.261,209.321C77.297,209.254 77.816,207.703 78.415,205.873C79.014,204.043 79.527,202.518 79.555,202.484C79.583,202.45 79.849,202.484 80.147,202.559L80.687,202.695L80.689,204.908C80.689,206.125 80.749,207.883 80.821,208.814L80.952,210.507L82.627,211.014C83.548,211.292 84.334,211.44 84.373,211.342C84.412,211.243 84.343,209.76 84.218,208.046L84.218,208.046ZM81.514,200.12C81.116,200.007 80.711,199.837 80.613,199.741C80.514,199.645 80.682,198.797 80.99,197.834C81.296,196.881 81.583,195.983 81.627,195.839C81.732,195.501 83.771,196.248 84.147,196.763C84.772,197.616 84.097,199.63 83.038,200.075C82.661,200.233 82.327,200.355 82.295,200.344C82.263,200.334 81.911,200.233 81.514,200.12ZM71.804,203.846C72.286,202.102 73.366,198.219 74.204,195.217C75.043,192.215 75.73,189.666 75.73,189.553C75.73,189.275 72.458,187.634 72.21,187.788C72.103,187.855 69.954,190.174 67.435,192.941C64.916,195.708 62.202,198.647 61.402,199.473C60.603,200.299 59.99,201.004 60.041,201.039C60.092,201.075 60.727,201.513 61.453,202.014L62.772,202.925L64.138,201.424L65.504,199.924L67.208,200.76C68.146,201.22 68.91,201.716 68.907,201.863C68.905,202.01 68.685,202.897 68.419,203.834L67.936,205.538L69.302,206.271C70.054,206.675 70.727,207.008 70.799,207.011C70.871,207.014 71.323,205.59 71.804,203.846ZM68.448,198.435C67.908,198.18 67.467,197.913 67.467,197.84C67.467,197.727 68.264,196.722 71.25,193.069C71.609,192.631 71.778,192.517 71.692,192.773C71.615,193.002 71.169,194.476 70.701,196.048C70.232,197.621 69.755,198.905 69.639,198.903C69.524,198.9 68.987,198.69 68.448,198.435ZM140.535,205.119C141.267,204.768 142.088,204.174 142.444,203.739C143.971,201.875 144.16,198.675 142.919,195.685C141.782,192.944 138.839,189.723 136.756,188.939C133.602,187.75 130.34,189.21 129.334,192.261C128.043,196.171 131.045,203.121 134.866,205.07C136.858,206.086 138.489,206.1 140.535,205.118L140.535,205.119ZM136.84,202.181C135.433,201.316 134.028,199.083 133.025,196.116C132.356,194.139 132.374,192.891 133.082,192.178C133.703,191.553 134.52,191.468 135.418,191.936C136.37,192.431 138.078,194.524 138.937,196.247C140.421,199.228 140.499,201.272 139.162,202.179C138.29,202.77 137.798,202.771 136.84,202.182L136.84,202.181ZM151.465,198.039C152.189,197.448 152.782,196.923 152.782,196.873C152.782,196.747 148.226,191.805 146.654,190.226C145.942,189.512 145.406,188.927 145.463,188.927C145.52,188.927 147.898,190.101 150.747,191.537C153.596,192.973 155.94,194.117 155.956,194.08C155.971,194.042 156.485,193.483 157.097,192.837L158.211,191.662L152.986,185.98C150.112,182.855 147.449,179.971 147.069,179.573L146.377,178.848L145.253,179.988L144.128,181.129L147.513,184.612C149.375,186.528 150.867,188.095 150.829,188.095C150.79,188.095 148.612,187.042 145.989,185.755L141.218,183.415L139.973,184.314C139.194,184.877 138.784,185.305 138.876,185.458C138.957,185.593 140.565,187.575 142.45,189.862C144.335,192.15 146.8,195.167 147.927,196.568C149.054,197.969 150.015,199.115 150.062,199.115C150.109,199.115 150.74,198.631 151.465,198.039ZM62.893,192.024C65.889,188.25 68.305,185.135 68.264,185.103C68.223,185.071 67.481,184.553 66.615,183.951L65.041,182.858L61.244,185.396C59.156,186.792 57.285,188.079 57.086,188.255C56.887,188.431 56.725,188.531 56.725,188.478C56.725,188.389 57.869,186.188 60.374,181.459L61.3,179.709L59.883,178.282L58.465,176.855L54.955,180.448C53.025,182.424 50.307,185.217 48.915,186.655L46.385,189.27L48.735,191.136L51.15,188.524C52.479,187.087 54.16,185.24 54.885,184.42C55.611,183.599 56.233,182.956 56.268,182.991C56.302,183.026 55.689,184.212 54.904,185.627C54.12,187.041 52.909,189.282 52.214,190.605L50.95,193.01L51.729,193.776C52.157,194.197 52.585,194.541 52.679,194.541C52.774,194.541 54.629,193.262 56.802,191.698C58.975,190.135 61.218,188.521 61.786,188.112L62.819,187.369L62.161,188.2C61.799,188.657 60.016,190.762 58.199,192.877L54.894,196.724L56.025,197.816C56.648,198.416 57.222,198.903 57.302,198.898C57.382,198.893 59.898,195.799 62.893,192.024ZM166.392,180.426C165.641,179.67 165.59,179.541 165.593,178.399C165.6,175.932 166.505,172.976 167.55,172C168.187,171.407 168.017,171.245 166.732,171.219C166.03,171.204 165.574,171.345 164.927,171.776C163.774,172.545 162.553,172.682 161.869,172.121L161.355,171.7L161.768,170.92C161.995,170.491 162.309,170.011 162.464,169.854C162.928,169.386 162.586,169.316 161.16,169.587C159.828,169.84 159.216,169.792 158.102,169.349C157.404,169.071 157.398,168.935 158.05,167.97C158.334,167.549 158.567,167.157 158.567,167.098C158.567,167.038 158.016,167.021 157.342,167.06C156.015,167.135 153.901,166.777 153.695,166.443C153.625,166.329 153.731,166.055 153.93,165.833C154.282,165.441 154.27,165.43 153.486,165.423C152.638,165.415 149.501,164.9 149.344,164.742C149.294,164.692 149.625,164.053 150.08,163.323C151.518,161.014 153.601,155.597 153.615,154.128C153.621,153.534 153.643,153.512 153.859,153.887C154.261,154.585 154.085,157.175 153.512,159.003C152.725,161.51 152.766,161.743 154.162,162.673L155.335,163.455L154.265,163.64C153.677,163.742 153.195,163.901 153.195,163.994C153.195,164.227 154.589,164.596 155.474,164.597C155.875,164.598 156.859,164.915 157.662,165.303C158.465,165.69 159.427,166.074 159.8,166.157C160.174,166.239 161.699,166.819 163.189,167.445C168.123,169.517 169.958,170.005 172.82,170.005C173.657,170.005 173.894,170.095 174.251,170.553C174.487,170.854 174.679,171.232 174.679,171.393C174.679,172.008 173.823,173.297 172.217,175.099C170.926,176.547 170.405,177.323 169.915,178.53C169.246,180.176 168.351,181.233 167.628,181.233C167.389,181.233 166.833,180.87 166.392,180.426L166.392,180.426ZM34.256,177.805C32.958,176.823 31.808,175.538 31.249,174.445C30.725,173.421 30.495,172.07 30.464,169.851C30.441,168.133 30.507,167.666 30.88,166.93C31.124,166.448 31.454,166.054 31.612,166.054C31.771,166.054 32.247,166.53 32.672,167.112C33.588,168.368 33.94,168.53 35.292,168.315C36.851,168.067 43.83,165.898 45.016,165.293C46.361,164.607 48.092,162.792 48.809,161.316C49.874,159.126 49.636,155.231 48.258,152.279C47.286,150.198 46.537,149.886 45.304,151.049C44.384,151.915 44.042,153.471 44.199,156.073C44.409,159.546 43.865,161.123 41.672,163.403C40.475,164.646 40.146,164.782 39.508,164.295C39.025,163.927 39.173,163.126 40.046,161.377C40.664,160.139 40.667,160.117 40.497,157.946C40.402,156.745 40.335,155.268 40.346,154.665C40.37,153.446 41.059,150.919 41.643,149.906C42.019,149.255 42.018,149.246 41.529,148.785C41.07,148.35 40.918,148.328 39.206,148.458C37.129,148.616 33.927,149.346 31.837,150.138C30.082,150.803 26.564,152.742 26.566,153.043C26.569,153.539 28.891,154.719 29.552,154.561C29.661,154.535 29.769,154.186 29.792,153.786C29.839,152.947 30.318,151.648 30.406,152.123C30.437,152.294 30.52,152.868 30.589,153.398C30.659,153.936 31.022,154.876 31.413,155.529L32.112,156.698L31.559,156.574C30.384,156.31 27.882,155.625 27.37,155.426C27.075,155.311 26.486,154.848 26.062,154.398C25.292,153.58 24.844,153.392 24.602,153.786C24.061,154.667 21.928,152.719 18.844,148.527C16.929,145.925 16.034,145.037 14.008,143.73C12.37,142.674 11.405,141.627 10.736,140.18C9.611,137.748 10.327,135.887 15.264,128.418C16.814,126.074 19.305,122.565 20.8,120.621C22.295,118.677 23.879,116.534 24.319,115.858C25.09,114.675 25.119,114.566 25.122,112.843C25.127,110.53 25.556,108.537 26.466,106.61C27.242,104.964 28.64,102.905 29.628,101.952C30.044,101.55 30.267,101.09 30.354,100.454C30.542,99.073 31.192,97.377 32.213,95.6C32.811,94.559 33.246,93.464 33.466,92.446C34.06,89.686 35.63,87.579 37.972,86.397C38.685,86.037 39.304,85.711 39.346,85.672C39.389,85.633 39.266,85.204 39.073,84.717C38.607,83.546 38.595,81.387 39.05,80.688C39.818,79.508 43.194,75.758 45.495,73.529C50.984,68.213 58.68,62.776 65.806,59.181C74.052,55.02 83.352,52.164 92.565,50.962C99.938,50 109.421,50.049 116.322,51.084C124.292,52.279 132.553,54.79 140.078,58.304C149.571,62.738 158.474,69.276 165.817,77.206C168.752,80.375 168.98,80.754 168.98,82.453C168.98,83.526 168.86,84.099 168.468,84.896L167.956,85.937L169.407,86.602C171.969,87.775 174.404,90.081 175.794,92.651C176.619,94.177 176.952,95.82 176.952,98.372C176.952,101.157 176.92,101.085 179.899,105.164C183.014,109.428 183.501,110.606 183.885,114.793C183.999,116.035 184.209,116.613 185.348,118.815C186.695,121.421 187.472,122.664 191.613,128.834C193.971,132.35 196.568,137.281 197.005,139.076C197.643,141.698 196.907,143.45 194.25,145.636C193.428,146.313 190.964,148.741 188.775,151.032C186.478,153.436 184.48,155.348 184.049,155.554C183.531,155.801 183.055,155.87 182.493,155.78C181.765,155.663 181.585,155.732 180.712,156.462C180.177,156.909 179.461,157.415 179.121,157.588C177.636,158.339 173.44,159.344 173.44,158.948C173.44,158.848 173.989,158.171 174.661,157.444C176.144,155.84 176.561,155.07 176.607,153.85C176.649,152.718 176.151,152.2 174.328,151.478C172.872,150.902 169.589,150.7 167.891,151.082C166.827,151.321 166.726,151.304 165.333,150.659C163.972,150.027 163.786,149.993 162.265,150.112C159.916,150.294 158.017,151.342 158.493,152.193C158.959,153.028 159.5,153.37 160.354,153.37C161.18,153.37 161.273,153.428 161.656,154.184C162.278,155.411 162.51,156.751 162.578,159.504C162.646,162.25 162.82,162.866 164.189,165.22C164.832,166.325 164.917,166.587 164.647,166.644C163.843,166.816 159.706,163.329 158.954,161.845C158.727,161.398 158.455,160.244 158.344,159.259C158.153,157.565 158.099,157.43 157.212,156.413C155.177,154.081 154.7,151.652 155.954,149.998C156.756,148.94 158.476,147.807 160.03,147.312C161.948,146.703 165.495,146.573 168.408,147.006C172.321,147.587 174.258,148.396 177.675,150.876C180.153,152.675 181.111,153.152 182.258,153.158C183.082,153.162 183.241,153.049 185.545,150.823C189.911,146.605 190.147,146.087 188.806,143.672C187.822,141.901 187.4,141.63 185.993,141.866C183.816,142.232 182.183,141.579 182.474,140.459C182.729,139.478 185.336,138.19 187.06,138.192C188.133,138.194 189.163,138.518 191.782,139.679C193.066,140.248 194.274,140.68 194.468,140.64C195.098,140.508 194.813,139.093 193.704,136.84C193.14,135.696 190.605,131.625 188.069,127.793C185.533,123.961 183.115,120.125 182.696,119.268C182.01,117.868 181.912,117.454 181.727,115.193C181.387,111.042 180.409,108.86 177.536,105.846C176.658,104.925 175.63,103.617 175.251,102.939C174.438,101.485 173.491,100.763 172.393,100.763C171.641,100.763 171.602,100.727 171.27,99.721C171.081,99.148 170.559,98.189 170.111,97.59L169.295,96.501L169.87,96.427C170.36,96.365 170.663,96.592 171.942,97.983L173.44,99.612L173.44,98.719C173.44,97.604 173.236,97.213 171.879,95.731C171.283,95.079 170.537,94.003 170.223,93.34C169.137,91.049 168.442,90.131 167.449,89.671C166.938,89.435 166.45,89.206 166.365,89.163C166.279,89.12 166.207,89.63 166.205,90.297C166.199,91.828 165.931,92.999 165.278,94.362C164.995,94.952 164.764,95.566 164.764,95.726C164.764,95.886 165.205,96.437 165.745,96.95C166.56,97.725 166.639,97.859 166.21,97.745C165.926,97.669 165.178,97.558 164.549,97.5C163.651,97.416 163.344,97.466 163.125,97.732C162.971,97.918 162.882,98.1 162.927,98.135C163.375,98.495 165.468,99.532 166.158,99.737C166.641,99.88 167.036,100.076 167.036,100.172C167.036,100.535 165.351,100.328 164.227,99.828C163.585,99.542 162.815,99.312 162.517,99.317C161.845,99.329 158.762,101.119 159.191,101.248C159.359,101.298 159.868,101.442 160.322,101.568C160.777,101.694 161.421,102.018 161.754,102.289L162.36,102.781L160.825,102.774C159.122,102.767 158.271,103.089 157.547,104.016C156.905,104.837 156.836,105.394 157.223,106.624C157.414,107.232 157.641,108.685 157.728,109.853C157.866,111.699 157.959,112.073 158.44,112.707C159.221,113.738 160.513,114.432 162.187,114.72C164.322,115.088 166.123,114.632 168.858,113.033C171.344,111.579 172.138,111.331 174.376,111.311C176.238,111.295 177.834,111.751 178.68,112.54C179.331,113.148 180.374,115.861 181.027,118.645C181.309,119.846 181.656,121.226 181.799,121.712C181.942,122.198 181.985,122.596 181.895,122.596C181.622,122.596 180.373,120.944 179.075,118.865C178.401,117.785 177.758,116.871 177.645,116.833C177.533,116.796 177.15,117.172 176.795,117.671C176.439,118.169 175.655,118.955 175.052,119.417C173.886,120.313 170.706,122.18 170.348,122.18C170.231,122.18 170.135,122.285 170.135,122.413C170.135,122.577 170.894,122.621 172.707,122.56C175.638,122.462 175.633,122.454 173.552,123.949C171.329,125.545 169.617,126.499 167.834,127.132C166.082,127.754 163.315,128.207 163.32,127.87C163.321,127.771 164.105,127.28 165.062,126.779C167.251,125.632 169.597,123.852 169.682,123.272C169.742,122.865 169.659,122.884 168.443,123.547C166.522,124.594 164.765,125.091 162.979,125.091C161.801,125.091 161.418,125.018 161.326,124.777C161.127,124.255 161.614,123.894 163.475,123.187C165.139,122.555 165.211,122.503 164.645,122.347C164.312,122.255 163.157,122.075 162.078,121.948C160.044,121.707 158.773,121.321 158.773,120.943C158.773,120.823 159.068,120.725 159.429,120.725L160.084,120.725L159.664,120.257C159.433,119.999 158.696,118.948 158.027,117.921C157.358,116.894 156.421,115.676 155.946,115.214C154.949,114.247 154.641,113.568 154.641,112.333C154.641,111.466 154.628,111.45 153.707,111.202C152.621,110.91 151.468,110.21 150.672,109.36C149.625,108.241 146.998,104.211 146.998,103.723C146.998,101.872 149.682,99.939 153.004,99.398C156.168,98.883 158.776,97.641 160.645,95.759C162.216,94.179 163.306,91.013 163.314,88.013C163.318,86.379 163.463,86.035 164.568,85.03C165.44,84.236 165.878,83.122 165.602,82.395C165.142,81.181 159.812,75.647 156.163,72.595C143.383,61.908 127.831,55.432 111.467,53.984C105.567,53.462 95.556,53.848 89.57,54.827C80.563,56.302 70.429,59.973 62.583,64.604C59.631,66.347 55.229,69.423 52.418,71.707C48.467,74.917 43.105,80.463 42.101,82.377C41.829,82.898 42.449,84.381 43.477,85.665C44.035,86.363 44.123,86.638 44.123,87.682C44.123,91.499 46.277,95.283 49.704,97.486C51.504,98.643 52.623,98.961 54.977,98.982C56.78,98.998 57.125,99.06 57.624,99.455C58.449,100.108 59.234,101.159 59.788,102.351L60.27,103.387L59.031,105.388C55.174,111.612 52.436,117.823 50.941,123.74C48.845,132.033 48.605,138.938 50.142,146.715C51.146,151.79 53.39,157.703 55.841,161.727C56.237,162.377 56.528,163.003 56.488,163.117C56.448,163.231 55.683,162.952 54.79,162.496C53.896,162.04 53.106,161.726 53.034,161.798C52.962,161.871 53.322,162.294 53.833,162.738L54.762,163.547L53.058,163.553C52.121,163.556 51.354,163.647 51.354,163.755C51.354,163.863 51.731,164.178 52.193,164.455L53.032,164.959L52.189,165.298C51.693,165.498 50.757,165.638 49.916,165.638C48.184,165.638 47.933,165.9 48.895,166.704L49.598,167.29L47.88,167.296C46.314,167.301 46.172,167.336 46.281,167.68C46.542,168.509 44.311,169.763 42.236,169.952C41.57,170.013 41.025,170.126 41.025,170.203C41.025,170.28 41.304,170.612 41.645,170.941C41.985,171.269 42.264,171.626 42.264,171.732C42.264,171.84 41.734,171.888 41.073,171.84C40.062,171.766 38.549,171.2 36.876,170.269C36.81,170.232 36.91,170.836 37.1,171.611C37.412,172.891 37.414,173.027 37.117,173.098C36.917,173.145 36.253,172.584 35.404,171.651C34.642,170.812 33.951,170.195 33.868,170.278C33.739,170.407 34.114,171.688 34.731,173.228C34.896,173.639 34.892,173.639 34.446,173.245C34.198,173.026 33.741,172.441 33.43,171.946C33.119,171.451 32.795,171.045 32.71,171.045C32.475,171.045 32.525,172.348 32.791,173.145C33.093,174.05 34.389,176.013 35.694,177.543L36.715,178.738L36.102,178.738C35.696,178.738 35.071,178.423 34.256,177.806L34.256,177.805ZM179.362,155.968C179.74,155.809 180.05,155.551 180.05,155.395C180.05,154.989 178.216,153.37 177.756,153.37C177.682,153.37 177.511,153.806 177.378,154.339C177.245,154.872 177.001,155.501 176.837,155.737C176.673,155.973 176.538,156.251 176.538,156.354C176.538,156.604 178.483,156.338 179.362,155.968ZM28.909,149.644C33.683,147.181 37.555,146.095 41.575,146.093C44.589,146.091 46.598,146.642 48.718,148.049C49.242,148.397 49.294,148.399 49.416,148.077C49.613,147.561 48.362,146.368 47.238,146.001C45.613,145.47 42.152,144.845 40.837,144.845C40.145,144.845 39.579,144.796 39.579,144.735C39.579,144.675 39.87,144.044 40.226,143.334C41.115,141.561 41.28,139.68 40.623,138.786C40.369,138.441 40.209,138.111 40.266,138.054C40.434,137.885 42.103,138.7 42.791,139.285C43.137,139.58 43.6,140.156 43.819,140.566C44.038,140.975 44.285,141.31 44.368,141.31C44.666,141.31 44.791,139.797 44.558,139.014C44.421,138.553 44.038,137.99 43.654,137.685C43.098,137.244 43.056,137.157 43.4,137.163C43.628,137.167 44.185,137.305 44.64,137.469C46.554,138.164 47.26,137.674 47.393,135.559L47.48,134.197L46.989,134.519C46.166,135.058 41.016,135.104 40.302,134.578C39.932,134.306 39.943,134.277 40.521,133.979C40.855,133.807 42.104,133.505 43.297,133.308C45.871,132.883 46.375,132.588 44.503,132.602C43.766,132.608 42.752,132.504 42.249,132.372C39.82,131.733 36.092,130.454 35.431,130.033C34.255,129.284 33.175,128.337 33.175,128.055C33.175,127.718 33.175,127.719 34.458,128.23C36.526,129.055 38.032,129.453 39.097,129.455C41.129,129.46 41.332,129.074 39.707,128.299C38.274,127.616 35.654,125.367 35.654,124.821C35.654,124.765 36.328,124.987 37.152,125.314C38.797,125.967 40.015,126.085 40.392,125.627C40.589,125.388 40.424,125.022 39.552,123.76C38.956,122.896 38.523,122.134 38.591,122.066C38.742,121.914 39.866,122.483 40.747,123.157C41.106,123.431 41.725,123.709 42.122,123.774C42.715,123.871 42.886,123.813 43.078,123.452C43.4,122.846 43.1,122.351 41.9,121.513L40.922,120.829L42.471,120.721C44.001,120.614 45.57,120.174 45.57,119.851C45.57,119.76 45.407,119.684 45.208,119.683C44.642,119.68 42.753,118.729 42.62,118.38C42.529,118.141 42.917,117.907 44.235,117.407C45.189,117.045 46.181,116.57 46.441,116.352L46.912,115.956L45.448,115.949C44.238,115.943 42.104,115.542 40.372,114.995C40.119,114.915 39.992,115.055 39.889,115.523C39.588,116.905 38.074,118.057 36.185,118.342C35.345,118.469 35.029,118.654 34.292,119.451C33.652,120.142 33.379,120.322 33.306,120.099C33.251,119.928 33.103,119.45 32.977,119.035C32.85,118.621 32.429,117.919 32.04,117.476C31.344,116.682 31.333,116.678 31.324,117.211C31.298,118.893 30.449,120.076 28.236,121.515C27.26,122.15 26.007,123.046 25.453,123.507C24.535,124.269 24.458,124.298 24.597,123.834C24.909,122.797 25.959,120.756 27.007,119.152C27.933,117.735 28.08,117.372 28.051,116.579C28.013,115.569 27.789,115.2 27.322,115.38C27.156,115.445 26.075,116.884 24.92,118.579C23.765,120.274 21.92,122.841 20.819,124.285C16.472,129.985 12.716,136.181 12.731,137.626C12.738,138.283 13.318,139.231 13.714,139.231C13.824,139.231 14.163,138.902 14.467,138.501C15.411,137.256 17.508,136.373 20.113,136.124C22.014,135.943 22.375,135.73 22.947,134.454C23.338,133.581 23.712,133.327 24.321,133.522C24.657,133.629 24.69,133.795 24.584,134.826C24.356,137.043 23.951,138.079 22.824,139.32C22.245,139.957 21.613,140.478 21.42,140.478C21.226,140.478 20.756,140.248 20.377,139.965C19.997,139.683 19.608,139.501 19.513,139.56C19.419,139.619 19.214,140.107 19.059,140.645C18.779,141.613 18.768,141.623 17.816,141.685C16.955,141.742 16.856,141.801 16.856,142.252C16.856,142.565 17.059,142.89 17.393,143.11C17.688,143.305 18.62,144.382 19.463,145.502C20.306,146.623 21.796,148.384 22.773,149.416C24.19,150.912 24.667,151.291 25.132,151.291C25.454,151.291 27.146,150.553 28.909,149.644L28.909,149.644ZM27.184,147.506C27.184,147.12 29.446,144.998 30.76,144.152C33.207,142.576 37.41,140.686 38.467,140.686C39.046,140.686 39.111,141.117 38.598,141.552C38.399,141.72 37.539,142.123 36.687,142.447C33.89,143.511 30.676,145.28 28.508,146.947C27.381,147.814 27.184,147.897 27.184,147.506ZM24.615,146.738C24.387,146.366 26.386,144.54 28.32,143.354C32.151,141.004 34.566,139.849 36.685,139.351C38.311,138.97 38.452,139.268 36.919,139.845C34.957,140.583 30.15,143.295 27.642,145.078C25.068,146.908 24.807,147.051 24.615,146.738ZM22.64,144.656C22.64,144.201 24.258,142.672 26.006,141.477C28.851,139.531 34.605,137.158 36.665,137.081C38.032,137.03 37.888,137.407 36.326,137.965C33.318,139.04 29.09,141.156 26.571,142.847C22.998,145.246 22.64,145.411 22.64,144.656ZM173.482,119.311C174.197,118.983 174.903,118.568 175.05,118.389C175.368,117.999 176.012,114.408 175.843,113.964C175.778,113.794 175.501,113.655 175.226,113.655C174.76,113.655 174.722,113.741 174.643,114.985C174.529,116.792 174.334,116.982 172.588,116.982C170.972,116.982 170.921,116.905 171.479,115.312C171.651,114.823 171.763,114.393 171.728,114.358C171.693,114.323 170.86,114.714 169.878,115.228C167.859,116.283 165.436,116.982 163.801,116.982C163.194,116.982 162.698,117.055 162.698,117.144C162.698,117.432 164.428,118.444 165.435,118.745C166.264,118.994 166.568,118.996 167.397,118.761C169.826,118.071 170.351,118.22 168.898,119.188C168.446,119.489 168.134,119.831 168.206,119.948C168.288,120.082 169.038,120.113 170.259,120.033C171.75,119.934 172.475,119.772 173.482,119.311L173.482,119.311ZM35.219,116.849C35.766,116.464 36.687,114.526 36.687,113.761C36.687,113.194 36.163,112.823 35.362,112.823C34.859,112.823 34.841,112.864 34.959,113.733C35.102,114.781 34.728,116.15 34.298,116.15C33.959,116.15 33.086,114.891 32.749,113.915C32.44,113.024 32.142,113.055 32.142,113.977C32.142,114.928 32.555,115.717 33.481,116.535C34.328,117.283 34.547,117.323 35.219,116.849L35.219,116.849ZM29.449,114.085C29.567,113.864 29.665,113.419 29.668,113.097C29.675,112.186 30.404,110.775 31.011,110.496C31.425,110.306 32.144,110.302 34.068,110.478C36.45,110.697 36.682,110.76 38.443,111.672C40.503,112.74 43.376,113.447 45.652,113.447C47.89,113.447 49.953,111.992 49.618,110.649C49.55,110.374 49.117,109.937 48.618,109.639C48.029,109.286 47.841,109.081 48.048,109.016C50.337,108.299 51.328,107.651 51.766,106.586C52.136,105.688 51.922,104.179 51.335,103.551C50.875,103.058 49.41,102.515 48.189,102.385C47.616,102.324 47.622,102.312 48.654,101.539C49.23,101.108 49.701,100.664 49.701,100.551C49.701,100.162 47.936,100.346 46.34,100.902C44.403,101.578 44.14,101.461 44.53,100.101C44.671,99.607 44.835,98.838 44.893,98.392L44.999,97.58L43.787,97.715C43.12,97.789 42.202,97.986 41.748,98.154C40.824,98.494 39.992,98.565 39.992,98.304C39.992,98.21 40.734,97.405 41.641,96.517C43.04,95.147 43.259,94.842 43.083,94.51C42.657,93.711 42.149,93.641 40.661,94.18C39.895,94.456 38.881,94.748 38.407,94.828C37.67,94.951 37.512,94.912 37.322,94.555C37.2,94.325 37.1,94.036 37.1,93.913C37.1,93.79 37.764,92.968 38.576,92.087C40.162,90.366 40.816,89.203 40.661,88.384C40.566,87.883 40.127,87.691 39.905,88.054C39.843,88.154 39.163,88.612 38.394,89.072C36.471,90.222 36.28,90.482 36.042,92.27C35.882,93.469 35.552,94.396 34.507,96.576C33.424,98.835 33.175,99.546 33.175,100.376C33.175,101.331 33.098,101.482 31.986,102.692C28.776,106.184 27.75,108.173 27.765,110.869C27.78,113.433 28.78,115.343 29.449,114.085L29.449,114.085ZM154.696,108.416C154.409,107.701 154.173,106.68 154.164,106.122C154.152,105.334 154.08,105.128 153.832,105.176C153.095,105.319 152.731,107.235 153.259,108.192C153.506,108.64 154.781,109.704 155.071,109.704C155.149,109.704 154.98,109.125 154.696,108.416ZM170.289,169.04C169.908,168.929 169.793,168.242 170.122,168.038C170.484,167.812 172.136,164.9 172.582,163.7C172.826,163.042 173.027,162.255 173.027,161.95C173.027,161.039 173.386,161.68 173.63,163.025C174.096,165.604 173.834,167.688 172.936,168.537C172.435,169.011 171.074,169.27 170.289,169.04ZM34.141,166.267C33.342,165.311 33.107,164.326 33.23,162.434C33.308,161.215 33.501,160.379 33.928,159.4L34.518,158.049L34.639,159.83C34.809,162.33 35.585,163.733 37.522,165.047C38.245,165.538 37.862,166.065 36.458,166.509C34.923,166.993 34.731,166.973 34.141,166.267ZM180.068,148.689C177.171,147.27 171.334,145.152 168.895,144.635C167.702,144.382 165.949,143.952 164.999,143.679C164.049,143.405 163.049,143.182 162.778,143.182C162.014,143.182 162.196,142.801 163.036,142.643C165.092,142.255 168.817,143.046 173.479,144.861C174.991,145.45 176.972,146.202 177.881,146.532L179.534,147.133L178.914,146.602C177.562,145.443 174.029,143.198 171.589,141.946C168.939,140.587 167.469,140.072 166.21,140.062C165.812,140.059 165.347,139.962 165.177,139.848C164.684,139.516 165.497,139.023 166.536,139.023C169.884,139.023 178.197,142.886 180.623,145.569C181.09,146.086 181.617,146.509 181.794,146.509C182.486,146.509 182.048,145.842 180.536,144.592C179.668,143.873 178.343,142.733 177.593,142.057C176.842,141.382 175.857,140.552 175.402,140.214C174.087,139.234 170.618,137.602 169.292,137.34C167.7,137.024 167.922,136.655 169.59,136.845C173.728,137.318 178.823,140.093 181.835,143.513C183.25,145.12 184.801,147.299 184.801,147.68C184.801,147.827 184.444,148.325 184.007,148.787C182.969,149.885 182.484,149.873 180.068,148.689L180.068,148.689ZM156.914,145.889C156.914,145.778 157.133,145.099 157.401,144.382C157.668,143.665 157.954,142.54 158.035,141.882C158.156,140.906 158.254,140.686 158.569,140.686C159.033,140.686 161.135,138.713 160.965,138.437C160.899,138.33 160.31,138.029 159.654,137.769C158.999,137.508 158.391,137.232 158.304,137.156C158.216,137.08 159.185,136.811 160.457,136.558C161.73,136.306 163.196,135.901 163.716,135.66L164.66,135.221L163.111,134.948C160.342,134.46 157.178,133.281 157.573,132.884C157.651,132.805 159.138,132.848 160.878,132.979C163.837,133.203 169.4,133.01 169.955,132.664C170.054,132.603 170.131,132.628 170.126,132.721C170.121,132.813 169.494,133.28 168.732,133.758C167.969,134.236 166.68,135.232 165.866,135.971C165.052,136.71 163.966,137.606 163.452,137.961C162.939,138.317 162.454,138.813 162.375,139.063C162.296,139.314 161.874,139.974 161.436,140.531C160.019,142.336 159.965,143.62 161.257,144.779L161.899,145.355L159.768,145.708C157.204,146.134 156.914,146.152 156.914,145.889L156.914,145.889ZM189.769,134.963C188.709,134.283 188.678,134.241 189.252,134.247C189.888,134.254 190.216,134.452 190.876,135.232C191.431,135.887 191.075,135.801 189.769,134.963ZM188.736,132.63C187.971,132.251 185.421,129.95 185.421,129.638C185.421,129.535 185.677,129.51 185.989,129.584C187.169,129.862 187.954,130.385 188.842,131.482C190.096,133.032 190.072,133.292 188.736,132.63L188.736,132.63ZM165.487,129.874C165.557,129.76 165.729,129.666 165.868,129.666C166.008,129.666 167.637,128.917 169.489,128.003C171.341,127.088 172.992,126.339 173.158,126.339C173.979,126.339 171.857,128.124 170.042,128.96C168.398,129.717 165.187,130.362 165.487,129.874ZM186.1,128.422C185.061,127.954 183.535,126.576 182.95,125.578L182.523,124.849L183.197,124.993C184.109,125.187 185.056,125.791 185.816,126.662C186.454,127.394 187.164,128.605 187.032,128.737C186.993,128.777 186.573,128.635 186.1,128.422ZM145.242,98.389L140.438,95.11L143.211,89.386C144.736,86.238 145.955,83.634 145.921,83.599C145.867,83.544 140.544,87.517 136.633,90.53L135.477,91.421L134.112,90.56C132.983,89.847 132.766,89.622 132.855,89.253C133.237,87.659 135.612,76.134 135.567,76.088C135.51,76.03 128.487,85.536 127.976,86.364C127.817,86.621 127.593,86.832 127.479,86.832C127.185,86.832 122.629,84.879 122.628,84.753C122.624,84.34 135.725,66.455 136.031,66.455C136.221,66.455 141.382,69.289 141.675,69.554C141.758,69.629 141.601,70.764 141.325,72.075C140.46,76.186 139.341,82.313 139.438,82.41C139.488,82.461 140.118,82.001 140.837,81.388C141.555,80.775 143.787,79.029 145.795,77.507C149.184,74.938 149.48,74.759 149.926,74.997C150.19,75.139 151.395,75.897 152.604,76.682L154.802,78.11L150.37,87.513C147.932,92.685 145.781,97.248 145.59,97.653L145.242,98.389ZM64.11,93.355C63.789,93.259 63.748,92.934 63.748,90.446L63.748,87.645L64.523,87.81C68.42,88.642 73.192,85.848 71.149,83.932C70.335,83.169 69.536,83.187 66.833,84.029C64.726,84.686 64.136,84.791 63.049,84.703C60.688,84.512 58.661,83.184 57.59,81.127C57.117,80.217 57.042,79.82 57.038,78.203C57.035,76.591 57.113,76.162 57.602,75.112C58.613,72.938 61.345,70.678 64.172,69.674C65.442,69.223 67.547,68.925 68.443,69.069L69.222,69.194L69.137,74.377L67.527,74.428C64.886,74.511 62.922,75.667 62.922,77.139C62.922,77.941 63.312,78.449 64.078,78.642C64.546,78.76 65.205,78.626 68.286,77.784C71.163,76.997 74.017,77.602 75.774,79.372C78.101,81.714 78.383,85.166 76.489,88.137C75.244,90.09 72.693,91.938 69.945,92.876C68.636,93.324 65.004,93.621 64.11,93.355L64.11,93.355ZM84.841,84.246C84.243,83.476 78.581,72.456 76.075,67.185L74.891,64.693L77.221,63.908C78.503,63.476 79.709,63.072 79.901,63.011C80.187,62.92 80.868,64.162 83.569,69.701C85.393,73.442 86.924,76.465 86.969,76.417C87.015,76.37 87.297,73.244 87.596,69.47C87.895,65.696 88.168,62.28 88.204,61.88L88.27,61.152L91.347,60.702C93.04,60.455 94.439,60.268 94.457,60.286C94.565,60.399 97.209,66.572 98.657,70.093C99.598,72.381 100.389,74.278 100.415,74.311C100.442,74.343 100.667,73.033 100.916,71.4C101.791,65.655 102.608,60.524 102.721,60.061C102.834,59.601 102.892,59.593 105.938,59.593L109.04,59.593L108.92,60.165C108.854,60.479 108.104,63.965 107.253,67.91C106.402,71.856 105.413,76.534 105.055,78.307C104.697,80.079 104.37,81.647 104.327,81.79C104.272,81.976 103.547,82.06 101.765,82.087C100.398,82.107 99.089,82.13 98.856,82.139C98.505,82.151 98.212,81.639 97.132,79.138C94.305,72.586 92.766,69.162 92.649,69.16C92.581,69.159 92.517,69.431 92.508,69.766C92.499,70.1 92.164,72.463 91.764,75.016C91.365,77.569 90.924,80.454 90.786,81.426C90.647,82.398 90.508,83.226 90.478,83.267C90.447,83.307 89.205,83.594 87.718,83.904C85.843,84.295 84.96,84.4 84.841,84.246L84.841,84.246ZM115.805,83.162C114.612,82.901 113.38,82.685 113.068,82.681C112.756,82.677 112.5,82.615 112.5,82.544C112.5,82.18 117.521,60.924 117.635,60.808C117.732,60.708 123.127,61.796 123.384,61.967C123.406,61.982 122.882,64.19 122.219,66.875C121.557,69.56 120.387,74.377 119.62,77.579C118.853,80.781 118.169,83.454 118.1,83.518C118.031,83.583 116.998,83.422 115.805,83.162Z"
                style="
                  fill: rgb(248, 205, 2);
                  fill-rule: nonzero;
                  stroke: black;
                  stroke-width: 0.21px;
                  stroke-linecap: butt;
                  stroke-miterlimit: 2;
                "
              />
            </g>
          </g>
        </svg>
      </div>
    </main>

    <script>
      const root = document.documentElement;

      const size = document.getElementById("size");
      const bg = document.getElementById("bg");
      const fg = document.getElementById("fg");
      //      const strokeW = document.getElementById("strokeW");
      //      const strokeC = document.getElementById("strokeC");

      const sizeVal = document.getElementById("sizeVal");
      const bgVal = document.getElementById("bgVal");
      const fgVal = document.getElementById("fgVal");
      //const strokeVal = document.getElementById("strokeVal");
      //const strokeCVal = document.getElementById("strokeCVal");
      const addPresetBtn = document.getElementById("addPreset");
      const exportBtn = document.getElementById("exportBtn");
      const presetList = document.getElementById("presetList");

      const PRESET_STORAGE_KEY = "swimMarathonPresets";
      let presets = [];

      function setVar(name, value) {
        root.style.setProperty(name, value);
      }

      function update() {
        const s = `${size.value}px`;
        setVar("--size", s);
        sizeVal.textContent = s;

        setVar("--bg", bg.value);
        bgVal.textContent = bg.value.toLowerCase();

        setVar("--fg", fg.value);
        fgVal.textContent = fg.value.toLowerCase();

        //        const sw = `${Number(strokeW.value).toFixed(1)}px`;
        //setVar("--strokeW", sw);
        //strokeVal.textContent = sw;

        //setVar("--stroke", strokeC.value);
        //strokeCVal.textContent = strokeC.value.toLowerCase();
      }

      function addPreset() {
        const preset = {
          size: Number(size.value),
          bg: bg.value.toLowerCase(),
          fg: fg.value.toLowerCase(),
        };

        presets.push(preset);
        renderPresets();
        savePresets();
      }

      function applyPreset(preset) {
        size.value = preset.size;
        bg.value = preset.bg;
        fg.value = preset.fg;
        update();
      }

      function renderPresets() {
        presetList.innerHTML = "";

        if (!presets.length) {
          presetList.classList.add("preset-empty");
          presetList.textContent = "No presets yet. Save one with “Add preset”.";
          return;
        }

        presetList.classList.remove("preset-empty");

        presets.forEach((preset) => {
          const item = document.createElement("button");
          item.type = "button";
          item.className = "preset";
          item.innerHTML = `
            <div class="preset-info">
              <div class="preset-size">${preset.size}px</div>
              <div class="preset-colors">BG ${preset.bg} · FG ${preset.fg}</div>
            </div>
            <div class="swatches">
              <span class="swatch" style="background:${preset.bg}"></span>
              <span class="swatch" style="background:${preset.fg}"></span>
            </div>
          `;
          item.addEventListener("click", () => applyPreset(preset));
          presetList.appendChild(item);
        });
      }

      function savePresets() {
        try {
          localStorage.setItem(PRESET_STORAGE_KEY, JSON.stringify(presets));
        } catch (err) {
          console.warn("Could not save presets", err);
        }
      }

      function loadPresets() {
        try {
          const stored = localStorage.getItem(PRESET_STORAGE_KEY);
          if (stored) {
            const parsed = JSON.parse(stored);
            if (Array.isArray(parsed)) {
              return parsed;
            }
          }
        } catch (err) {
          console.warn("Could not load presets", err);
        }
        return [];
      }

      function ensureDefaults() {
        if (presets.length) return;
        presets = [
          { size: 420, bg: "#014693", fg: "#f8cd02" },
          { size: 420, bg: "#ff00d0", fg: "#ffffff" },
        ];
      }

      function inlineComputedStyles(sourceSvg, cloneSvg) {
        const originals = sourceSvg.querySelectorAll("*");
        const clones = cloneSvg.querySelectorAll("*");

        clones.forEach((node, index) => {
          const sourceNode = originals[index];
          if (!sourceNode) return;

          const computed = getComputedStyle(sourceNode);
          const fill = computed.getPropertyValue("fill");
          const stroke = computed.getPropertyValue("stroke");
          const strokeWidth = computed.getPropertyValue("stroke-width");

          if (fill) {
            node.setAttribute("fill", fill);
            node.style.setProperty("fill", fill, "important");
          }

          if (stroke) {
            node.setAttribute("stroke", stroke);
            node.style.setProperty("stroke", stroke, "important");
          }

          if (strokeWidth) {
            node.setAttribute("stroke-width", strokeWidth);
            node.style.setProperty("stroke-width", strokeWidth, "important");
          }
        });
      }

      function exportAsPng() {
        // Ensure CSS vars are in sync before reading computed styles
        update();

        const svg = document.querySelector(".frame svg");
        if (!svg) return;

        const pixelSize = Number(size.value) || 512;
        const clone = svg.cloneNode(true);
        clone.setAttribute("width", pixelSize);
        clone.setAttribute("height", pixelSize);

        // Force current picker values directly on common classes
        clone.querySelectorAll(".bgRect").forEach((el) => {
          el.setAttribute("fill", bg.value);
        });
        clone.querySelectorAll(".fg").forEach((el) => {
          el.setAttribute("fill", fg.value);
        });

        inlineComputedStyles(svg, clone);

        const svgData = new XMLSerializer().serializeToString(clone);
        const svgBlob = new Blob([svgData], { type: "image/svg+xml;charset=utf-8" });
        const url = URL.createObjectURL(svgBlob);
        const img = new Image();

        img.onload = () => {
          const canvas = document.createElement("canvas");
          canvas.width = pixelSize;
          canvas.height = pixelSize;
          const ctx = canvas.getContext("2d");
          ctx.clearRect(0, 0, pixelSize, pixelSize);
          ctx.drawImage(img, 0, 0, pixelSize, pixelSize);
          URL.revokeObjectURL(url);

          const link = document.createElement("a");
          link.download = "swim-marathon-logo.png";
          link.href = canvas.toDataURL("image/png");
          document.body.appendChild(link);
          link.click();
          link.remove();
        };

        img.onerror = () => {
          URL.revokeObjectURL(url);
          alert("Export failed. Please try again.");
        };

        img.src = url;
      }

      for (const el of [size, bg, fg]) {
        el.addEventListener("input", update);
        el.addEventListener("change", update);
      }

      addPresetBtn.addEventListener("click", addPreset);
      exportBtn.addEventListener("click", exportAsPng);

      presets = loadPresets();
      const hadStoredPresets = presets.length > 0;
      ensureDefaults();
      renderPresets();
      applyPreset(presets[0]);

      if (!hadStoredPresets && presets.length) {
        savePresets();
      }
    </script>
  </body>
</html>
